<!DOCTYPE html>
<html>
  <head>
    <title>moodio</title>
    <script type="text/javascript" charset="utf-8" src="jquery.js"></script>
    <script type="text/javascript" charset="utf-8">
      var apiBaseUrl  = null;
      var username    = "1234567890";

      // var primaryLight = 1;
      // var ambientLight = 2;
      
      var primaryLight = 7;
      var ambientLight = 6;
      
      $.getJSON("https://www.meethue.com/api/nupnp", function(data) {
        console.log(data);
        
        var internalIpAddress = data[0].internalipaddress;
        apiBaseUrl = "http://" + internalIpAddress + "/api/" + username;
        console.log("onLoad - api url: " + apiBaseUrl);
        
        setLightState(primaryLight, { on: false, hue: 46920, bri: 000, sat: 255, fade: 0 });
        setLightState(ambientLight, { on: false, hue: 46920, bri: 000, sat: 255, fade: 0 });
        
        setTimeout(function(){
          $("audio").get(0).play();
        }, 1000)
        
      });

      var setLightState = function(lightId, lightState) {
        var apiUrl = apiBaseUrl + "/lights/" + lightId + "/state";
        
        $.ajax({
          url:  apiUrl,
          type: "PUT",
          data: JSON.stringify(lightState)
        });
      };

    </script>
    <script type="text/javascript" charset="utf-8">
      $(function() {
        var colors = {
          0000: { primary: { hue: 46920, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          0500: { primary: { hue: 46920, bri: 050, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 050, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          1000: { primary: { hue: 46920, bri: 130, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 130, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          1500: { primary: { hue: 46920, bri: 020, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 020, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          2000: { primary: { hue: 46920, bri: 090, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 090, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          2500: { primary: { hue: 46920, bri: 030, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 030, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          3000: { primary: { hue: 46920, bri: 040, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 040, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          3500: { primary: { hue: 46920, bri: 010, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 010, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          4000: { primary: { hue: 46920, bri: 130, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 130, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          4500: { primary: { hue: 46920, bri: 020, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 020, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          5000: { primary: { hue: 46920, bri: 130, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 130, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          5500: { primary: { hue: 46920, bri: 020, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 020, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          6000: { primary: { hue: 46920, bri: 090, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 090, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          6500: { primary: { hue: 46920, bri: 030, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 030, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          7000: { primary: { hue: 46920, bri: 040, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 040, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
          
          7500: { primary: { on: false }, ambient: { on: false }, processed: false }, // alles aus
          7750: { primary: { on: true }, ambient: { on: false }, processed: false }, // links an und spricht, rechts ist aus
          8000: { primary: { hue: 25500, bri: 180, sat: 255, fade: 10, on: true }, ambient: { hue: 0, bri: 000, sat: 000, fade: 10, on: false }, processed: false }, // rot, blau
          8500: { primary: { hue: 25500, bri: 120, sat: 255, fade: 10, on: true }, ambient: { hue: 0, bri: 000, sat: 000, fade: 10, on: false }, processed: false }, // rot, blau
          9000: { primary: { hue: 25500, bri: 190, sat: 255, fade: 10, on: true }, ambient: { hue: 0, bri: 000, sat: 000, fade: 10, on: false }, processed: false }, // rot, blau
          9500: { primary: { hue: 25500, bri: 130, sat: 255, fade: 10, on: true }, ambient: { hue: 0, bri: 000, sat: 000, fade: 10, on: false }, processed: false }, // rot, blau
         10000: { primary: { hue: 25500, bri: 140, sat: 255, fade: 10, on: true }, ambient: { hue: 0, bri: 000, sat: 000, fade: 10, on: false }, processed: false }, // rot, blau
         10500: { primary: { hue: 25500, bri: 110, sat: 255, fade: 10, on: true }, ambient: { hue: 0, bri: 000, sat: 000, fade: 10, on: false }, processed: false }, // rot, blau
         11000: { primary: { hue: 25500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 0, bri: 000, sat: 000, fade: 10, on: false }, processed: false }, // rot, blau
         11250: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 0, bri: 000, sat: 000, fade: 10, on: false }, processed: false }, // rot, blau
         11500: { primary: { hue: 25500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 0, bri: 000, sat: 255, fade: 10, on: false }, processed: false }, // rot, blau
         11750: { primary: { hue: 25500, bri: 050, sat: 255, fade: 10, on: true }, ambient: { hue: 0, bri: 000, sat: 255, fade: 10, on: false }, processed: false }, // rot, blau
         12000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 0, bri: 000, sat: 255, fade: 10, on: false }, processed: false }, // rot, blau
         
         12250: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { on: true, hue: 56100, bri: 180, sat: 255, fade: 10 }, processed: false }, // rechts spricht!
         12500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 180, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
         13000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 120, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
         13500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 190, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
         14000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 130, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
         14500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 140, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
         15000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 110, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
         15500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 180, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
         16000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 120, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
         16500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 190, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
         17000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 130, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
         17500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 140, sat: 255, fade: 10, on: true }, processed: false }, // rot, blau
         18000: { primary: { hue: 25500, bri: 180, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // links spricht
         18500: { primary: { hue: 25500, bri: 120, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         19000: { primary: { hue: 25500, bri: 190, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         19500: { primary: { hue: 25500, bri: 130, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         20000: { primary: { hue: 25500, bri: 140, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         
         20500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 180, sat: 255, fade: 10, on: true }, processed: false }, // rechts
         21000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 120, sat: 255, fade: 10, on: true }, processed: false }, // 
         21500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 190, sat: 255, fade: 10, on: true }, processed: false }, // 
         22000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 130, sat: 255, fade: 10, on: true }, processed: false }, // 
         22500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 140, sat: 255, fade: 10, on: true }, processed: false }, // 
         23000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 110, sat: 255, fade: 10, on: true }, processed: false }, // 
         23500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 180, sat: 255, fade: 10, on: true }, processed: false }, // 
         24000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 120, sat: 255, fade: 10, on: true }, processed: false }, // 
         24500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 190, sat: 255, fade: 10, on: true }, processed: false }, // 
         25000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 130, sat: 255, fade: 10, on: true }, processed: false }, // 
         
         25500: { primary: { hue: 25500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         26000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         26500: { primary: { hue: 25500, bri: 140, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         27000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         27500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         27000: { primary: { hue: 25500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         27500: { primary: { hue: 25500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         28000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         28500: { primary: { hue: 25500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         29000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         29500: { primary: { hue: 25500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         30000: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         30500: { primary: { hue: 25500, bri: 180, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         31000: { primary: { hue: 25500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         31500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         32000: { primary: { hue: 25500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         32500: { primary: { hue: 25500, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         33000: { primary: { hue: 25500, bri: 180, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         33500: { primary: { hue: 25500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         34000: { primary: { hue: 25500, bri: 180, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         34500: { primary: { hue: 25500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         35000: { primary: { hue: 25500, bri: 180, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         35500: { primary: { hue: 25500, bri: 040, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         36000: { primary: { hue: 25500, bri: 040, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         36500: { primary: { hue: 25500, bri: 040, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         37000: { primary: { hue: 25500, bri: 040, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         37500: { primary: { hue: 25500, bri: 040, sat: 255, fade: 10, on: true }, ambient: { hue: 56100, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // 
         
         38000: { primary: { hue: 25500, bri: 255, sat: 0, fade: 10, on: true }, ambient: { hue: 56100, bri: 255, sat: 0, fade: 10, on: true }, processed: false }, // schwank
         38500: { primary: { hue: 25500, bri: 060, sat: 0, fade: 10, on: true }, ambient: { hue: 56100, bri: 060, sat: 0, fade: 10, on: true }, processed: false }, // 
         39000: { primary: { hue: 25500, bri: 255, sat: 0, fade: 10, on: true }, ambient: { hue: 56100, bri: 255, sat: 0, fade: 10, on: true }, processed: false }, // 
         
         39500: { primary: { hue: 46920, bri: 020, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 020, sat: 255, fade: 10, on: true }, processed: false }, // 
         40000: { primary: { hue: 46920, bri: 090, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 090, sat: 255, fade: 10, on: true }, processed: false }, // 
         
         40500: { primary: { hue: 46920, bri: 000, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 000, sat: 255, fade: 10, on: true }, processed: false }, // sprecher
         41000: { primary: { hue: 46920, bri: 050, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 050, sat: 255, fade: 10, on: true }, processed: false }, // 
         41500: { primary: { hue: 46920, bri: 130, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 130, sat: 255, fade: 10, on: true }, processed: false }, // 
         42000: { primary: { hue: 46920, bri: 020, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 020, sat: 255, fade: 10, on: true }, processed: false }, // 
         42500: { primary: { hue: 46920, bri: 090, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 090, sat: 255, fade: 10, on: true }, processed: false }, // 
         
         44250: { primary: { hue: 46920, bri: 255, sat: 0, fade: 0, on: true }, ambient: { hue: 46920, bri: 255, sat: 0, fade: 0, on: true }, processed: false }, // tür zu, licht aus
         44500: { primary: { hue: 25500, bri: 255, sat: 0, fade: 0, on: false }, ambient: { hue: 56100, bri: 255, sat: 0, fade: 0, on: false }, processed: false }, // 
         45000: { primary: { hue: 25500, bri: 255, sat: 0, fade: 0, on: false }, ambient: { hue: 56100, bri: 255, sat: 0, fade: 0, on: false }, processed: false }, // 
         
         47000: { primary: { hue: 25500, bri: 255, sat: 0, fade: 0, on: true }, ambient: { hue: 56100, bri: 255, sat: 0, fade: 0, on: true }, processed: false }, //  türklingel
         47500: { primary: { hue: 25500, bri: 255, sat: 0, fade: 0, on: false }, ambient: { hue: 56100, bri: 255, sat: 0, fade: 0, on: false }, processed: false }, // 
         48000: { primary: { hue: 25500, bri: 255, sat: 0, fade: 0, on: true }, ambient: { hue: 56100, bri: 255, sat: 0, fade: 0, on: true }, processed: false }, // 
         48500: { primary: { hue: 25500, bri: 050, sat: 0, fade: 0, on: true }, ambient: { hue: 56100, bri: 050, sat: 0, fade: 0, on: true }, processed: false }, // 
         
         48750: { primary: { hue: 25500, bri: 255, sat: 255, fade: 0, on: true }, ambient: { hue: 00000, bri: 0, sat: 0, fade: 0, on: false }, processed: false }, // links spricht, "was vergessen?"
         
         51000: { primary: { hue: 25500, bri: 255, sat: 255, fade: 0, on: true  }, ambient: { hue: 00000, bri: 255, sat: 255, fade: 0, on: true }, processed: false }, // überfall!
         51500: { primary: { hue: 00000, bri: 255, sat: 255, fade: 0, on: false }, ambient: { hue: 00000, bri: 255, sat: 255, fade: 0, on: false }, processed: false }, // 
         52000: { primary: { hue: 00000, bri: 255, sat: 255, fade: 0, on: true  }, ambient: { hue: 00000, bri: 255, sat: 255, fade: 0, on: true }, processed: false }, // 
         52500: { primary: { hue: 00000, bri: 255, sat: 255, fade: 0, on: false }, ambient: { hue: 00000, bri: 255, sat: 255, fade: 0, on: false }, processed: false }, // 
         
         53000: { primary: { hue: 00000, bri: 000, sat: 255, fade: 05, on: true }, ambient: { hue: 00000, bri: 000, sat: 255, fade: 05, on: true }, processed: false }, // 
         53500: { primary: { hue: 00000, bri: 050, sat: 255, fade: 05, on: true }, ambient: { hue: 00000, bri: 255, sat: 255, fade: 05, on: true }, processed: false }, // 
         54000: { primary: { hue: 00000, bri: 080, sat: 255, fade: 05, on: true }, ambient: { hue: 00000, bri: 255, sat: 255, fade: 05, on: true }, processed: false }, // 
         54500: { primary: { hue: 00000, bri: 020, sat: 255, fade: 05, on: true }, ambient: { hue: 00000, bri: 055, sat: 255, fade: 05, on: true }, processed: false }, // 
         55000: { primary: { hue: 00000, bri: 090, sat: 255, fade: 05, on: true }, ambient: { hue: 00000, bri: 255, sat: 255, fade: 05, on: true }, processed: false }, // 
         55500: { primary: { hue: 25500, bri: 255, sat: 255, fade: 05, on: true }, ambient: { hue: 00000, bri: 055, sat: 255, fade: 05, on: true }, processed: false }, // links spricht: wer sind sie?!
         56000: { primary: { hue: 25500, bri: 180, sat: 255, fade: 05, on: true }, ambient: { hue: 00000, bri: 055, sat: 255, fade: 05, on: true }, processed: false }, // 
         
         57000: { primary: { hue: 00000, bri: 040, sat: 255, fade: 05, on: true }, ambient: { hue: 00000, bri: 255, sat: 255, fade: 05, on: true }, processed: false }, // überfall spricht - vincent martinez
         57500: { primary: { hue: 00000, bri: 050, sat: 255, fade: 05, on: true }, ambient: { hue: 00000, bri: 255, sat: 255, fade: 05, on: true }, processed: false }, // 
         58000: { primary: { hue: 00000, bri: 090, sat: 255, fade: 05, on: true }, ambient: { hue: 00000, bri: 255, sat: 255, fade: 05, on: true }, processed: false }, // 
         58500: { primary: { hue: 00000, bri: 080, sat: 255, fade: 05, on: true }, ambient: { hue: 00000, bri: 255, sat: 255, fade: 05, on: true }, processed: false }, // 
         
         59000: { primary: { hue: 25500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 00000, bri: 040, sat: 255, fade: 10, on: true }, processed: false }, // 
         
         60750: { primary: { hue: 00000, bri: 040, sat: 255, fade: 10, on: true }, ambient: { hue: 00000, bri: 255, sat: 255, fade: 10, on: true }, processed: false }, // rechts spricht wieder
         
         64000: { primary: { hue: 25500, bri: 150, sat: 255, fade: 05, on: true }, ambient: { hue: 00000, bri: 040, sat: 255, fade: 05, on: true }, processed: false }, // links (ahhh...)
         
         64500: { primary: { hue: 00000, bri: 000, sat: 000, fade: 05, on: false }, ambient: { hue: 00000, bri: 000, sat: 000, fade: 05, on: false }, processed: false }, // hörspiel zuende, werbung anfang
         65000: { primary: { hue: 00000, bri: 000, sat: 000, fade: 10, on: true }, ambient: { hue: 00000, bri: 000, sat: 000, fade: 10, on: true }, processed: false }, // hörspiel zuende, werbung anfang
         
         69000: { primary: { hue: 00000, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 00000, bri: 255, sat: 255, fade: 10, on: true }, processed: false }, // jetzt die roten
         
         71000: { primary: { hue: 26500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 26500, bri: 255, sat: 255, fade: 10, on: true }, processed: false }, // grünen
         71500: { primary: { hue: 26500, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 26500, bri: 255, sat: 255, fade: 10, on: true }, processed: false }, // 
         
         73000: { primary: { hue: 46920, bri: 255, sat: 255, fade: 10, on: true }, ambient: { hue: 46920, bri: 255, sat: 255, fade: 10, on: true }, processed: false }, // schwarzen
         75000: { primary: { hue: 46920, bri: 040, sat: 255, fade: 05, on: true }, ambient: { hue: 46920, bri: 040, sat: 255, fade: 05, on: true }, processed: false }, // 
         75500: { primary: { hue: 46920, bri: 040, sat: 255, fade: 05, on: true }, ambient: { hue: 46920, bri: 040, sat: 255, fade: 05, on: true }, processed: false }, // 
         76000: { primary: { hue: 46920, bri: 040, sat: 255, fade: 05, on: true }, ambient: { hue: 46920, bri: 040, sat: 255, fade: 05, on: true }, processed: false }, // 
         
         
         
         78500: { primary: { hue: 00000, bri: 255, sat: 255, fade: 5, on: true }, ambient: { hue: 12750, bri: 255, sat: 255, fade: 5, on: true }, processed: false }, // haribo farben
         79000: { primary: { hue: 25500, bri: 255, sat: 255, fade: 5, on: true }, ambient: { hue: 46920, bri: 255, sat: 255, fade: 5, on: true }, processed: false }, // 
         79500: { primary: { hue: 56100, bri: 255, sat: 255, fade: 5, on: true }, ambient: { hue: 65280, bri: 255, sat: 255, fade: 5, on: true }, processed: false }, // 
         80000: { primary: { hue: 12750, bri: 255, sat: 255, fade: 5, on: true }, ambient: { hue: 25500, bri: 255, sat: 255, fade: 5, on: true }, processed: false }, // 
         80500: { primary: { hue: 46920, bri: 255, sat: 255, fade: 5, on: true }, ambient: { hue: 56100, bri: 255, sat: 255, fade: 5, on: true }, processed: false }, // 
         81000: { primary: { hue: 00000, bri: 255, sat: 255, fade: 5, on: true }, ambient: { hue: 12750, bri: 255, sat: 255, fade: 5, on: true }, processed: false }, // 
         81500: { primary: { hue: 25500, bri: 255, sat: 255, fade: 5, on: true }, ambient: { hue: 46920, bri: 255, sat: 255, fade: 5, on: true }, processed: false }, // 
         82000: { primary: { hue: 56100, bri: 255, sat: 255, fade: 5, on: true }, ambient: { hue: 65280, bri: 255, sat: 255, fade: 5, on: true }, processed: false }, // 
         82500: { primary: { hue: 12750, bri: 255, sat: 255, fade: 5, on: true }, ambient: { hue: 25500, bri: 255, sat: 255, fade: 5, on: true }, processed: false }, // 
         
         83000: { primary: { hue: 46920, bri: 0, sat: 255, fade: 10, on: false }, ambient: { hue: 56100, bri: 0, sat: 255, fade: 10, on: false }, processed: false }, // fade out
         83500: { primary: { hue: 46920, bri: 0, sat: 255, fade: 10, on: false }, ambient: { hue: 56100, bri: 0, sat: 255, fade: 10, on: false }, processed: false }, // 
         84000: { primary: { hue: 46920, bri: 255, sat: 0, fade: 10, on: true }, ambient: { hue: 56100, bri: 255, sat: 0, fade: 10, on: true }, processed: true }, // aus
         84500: { primary: { hue: 46920, bri: 255, sat: 0, fade: 10, on: true }, ambient: { hue: 56100, bri: 255, sat: 0, fade: 10, on: true }, processed: true }, // 
        }
        
        $("audio").on('timeupdate', function () {
          var timeCode = (((this.currentTime * 1000)/250).toFixed() * 250);
          console.log(timeCode);
          var color = colors[timeCode];
          if(color) {
            if(!color.processed) {
              setLightState(primaryLight, color.primary);
              setLightState(ambientLight, color.ambient);
              
              $(".primary").css({ backgroundColor: "hsl("+color.primary.hue / (65280/360)+", "+color.primary.sat / (255/100)+"%, "+color.primary.bri / (255/100)+"%)" });
              $(".ambient").css({ backgroundColor: "hsl("+color.ambient.hue / (65280/360)+", "+color.primary.sat / (255/100)+"%, "+color.ambient.bri / (255/100)+"%)" });
              
              color.processed = true;
            }
          }
          
        });
        
        $("audio").on('seeked', function () {
          for(var k in colors) {
            colors[k].processed = false;
          }
        });
        
      });
    </script>
    <style type="text/css" media="screen">
      html, body {
        background-color: black;
        height: 100%;
        margin: 0;
        padding: 0;
      }
      
      body {
        background-color: black;
      }
      
      audio {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
      }
      
      .primary {
        width: 50%;
        height: 100%;
        background-color: black;
        float: left;
      }
      .ambient {
        width: 50%;
        height: 100%;
        background-color: black;
        float: left;
      }
      
    </style>
  </head>
  <body>
    <audio controls="controls" style="width: 100%">
      <source src="moodio_cc.mp3" />
      
    </audio>
    
    <div class="primary">
    </div>
    <div class="ambient">
    </div>
    
  </body>
</html>